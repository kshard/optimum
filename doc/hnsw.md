# Hierarchical Navigable Small World

## Example use-cases

The HNSW (Hierarchical Navigable Small World) algorithm is widely applicable in areas that require efficient nearest neighbor searches, particularly in high-dimensional spaces. Below are some key areas where HNSW is applicable:

- **Information Retrieval**
  - *Text Search and Retrieval*: HNSW can be used in search engines and document retrieval systems to quickly find similar documents on high-dimensional text embeddings.
- **Recommendation Systems**
  - *Content-Based Recommendations*: HNSW is useful for finding similar items in recommendation systems, such as finding related products, movies, or music tracks based on item embeddings.
  - *Collaborative Filtering*: It can also be applied in collaborative filtering to quickly locate users or items with similar behavior patterns.
  - *Personalized Content*: When a system needs to recommend personalized content (e.g., news articles, blog posts), HNSW can quickly find the most relevant content based on a userâ€™s preferences or behavior.
- **Computer Vision**
  - *Image and Video Retrieval*: In tasks like image search or video retrieval, HNSW is used to find images or frames similar to a given query image, based on feature vectors extracted from deep learning models.
  - *Object Detection and Recognition*: For recognizing objects in real-time, HNSW helps to match objects in a database of known features quickly.
- **Natural Language Processing (NLP)**
  - *Semantic Search*: In NLP, HNSW is used to find semantically similar phrases, sentences, or documents by comparing embeddings generated by text models.
  - *Chatbots and Conversational AI*: It can be used to match user queries to a set of predefined responses or intents based on vector similarity.
- **Anomaly Detection**
  - *Fraud Detection*: HNSW can be used to detect anomalies in financial transactions by identifying transactions that are distant from normal patterns.
  - *Intrusion Detection*: In cybersecurity, it helps to find unusual patterns in network traffic that might indicate security breaches.
- **Audio and Signal Processing**
  - *Music Recommendation*: HNSW is applied to match audio tracks with similar sound characteristics in music recommendation services.
  - *Speaker Verification and Identification*: In voice recognition systems, HNSW helps match voice embeddings to identify speakers.
- **Geospatial Applications**
  - *Location-Based Services*: In geospatial data analysis, HNSW can be used to find similar geographical regions or locations based on feature vectors representing various attributes like terrain, climate, etc.
- **Robotics and Autonomous Systems**
  - *Simultaneous Localization and Mapping (SLAM)*: HNSW aids in real-time mapping by finding similar points in a high-dimensional space, which is crucial for navigation and obstacle avoidance in robotics.
- **Gaming and Virtual Reality**
  - *Player Matching*: HNSW can be used to match players with similar skill levels in multiplayer games.
  - *Virtual Object Recognition*: In augmented and virtual reality systems, HNSW aids in real-time recognition and placement of virtual objects based on feature similarity.
- **Healthcare**
  - *Medical Image Retrieval*: HNSW can be used to retrieve similar medical images (e.g., X-rays, MRIs) for diagnostic purposes.
  - *Patient Similarity Search*: It helps in identifying patients with similar conditions by comparing patient profiles based on multiple factors.

Overall, HNSW is well-suited for applications that require fast and accurate similarity searches in large and high-dimensional datasets:
- **Scalability**: HNSW is highly scalable, capable of handling large datasets efficiently.
- **High Accuracy**: It provides close approximations to exact nearest neighbors, making it suitable for real-time applications.
- **Efficiency**: Its hierarchical graph structure allows for fast queries, especially in high-dimensional spaces where traditional methods struggle.

## Create data structure instance

```bash
optimum hnsw create -u $HOST -n <name> -j path/to/config.json
```

The algorithm "hnsw" is an efficient and scalable method for approximate nearest neighbor search in high-dimensional spaces. It has a few configuration parameters to steer its accuracy: 

- "M" and "M0" controls the maximum number of connections per node, balancing between memory usage and search efficiency. M0 defines the connection density on the graph's base layer, while M regulates it on the intermediate layers.

- "efConstruction" determines the number of candidate nodes evaluated during
  graph construction, influencing both the construction time and the accuracy
  of the graph.

- "surface" is vector distance function. Only cosine and euclidean distances are supported. 

Example configuration:	

```json
{
  "m":  8,                // number in range of [4, 1024]
  "m0": 64,               // number in range of [4, 1024]
  "efConstruction": 200,  // number in range of [200, 1000]
  "surface": "cosine"     // enum {"cosine", "euclidean"}
}
```

## Writing to data structure instance (batch mode)

The batch writing consist of two phases - data upload followed by a commit.

```bash
# Upload data into server.
optimum hnsw upload -u $HOST -n <name> path/to/data.txt

# Commit uploaded data, making it available online.
optimum hnsw commit -u $HOST -n <name>
```

The uploaded **file format** is embedding vectors is textual format. Each line of the file should start with unique key, followed by the corresponding vector. The unique key length should not exceeding 32 bytes. We recommend usage of sha1, uuid or https://github.com/fogfish/guid as unique key.

```
example_key_a 0.24116 ... -0.26098 -0.0079604
example_key_b 0.34601 ... -0.66865 -0.0486001
```

The format allows hexadecimal encoding for keys, if it starts with "0x" prefix.    

```
0xd857f9dc157c28e8e07c569c5992dee4f3486b4c -0.097231 ... -0.001681 0.154977
0xaeb3e05ab60520cd947455f2130d6cf1f6103243 -0.008007 ... -0.098503 0.057056
```

## Other operations

See Golang interface for details about data retrieval. 